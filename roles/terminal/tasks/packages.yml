---
- name: Homebrew - Update
  homebrew:
    update_homebrew: yes

- name: Homebrew - Add taps
  homebrew_tap:
    name: "{{ item }}"
    state: present
  loop:
    - elastic/tap
    - hashicorp/tap

- name: Homebrew - Install packages
  homebrew:
    name:
      - 7zip
      - awscli
      - bat
      - chamber
      - elastic/tap/elasticsearch-full
      - eza
      - fd
      - fzf
      - gh
      - git
      - heroku
      - jq
      - openjdk
      - openssl
      - pgcli
      - postgresql@18
      - ripgrep
      - visidata
      - shellcheck
      - ssh-copy-id
      - hashicorp/tap/terraform
      - tflint
      - tokei
      - tree
      - valkey
      - wget
      - zoxide
      - zsh
    state: present
  ignore_errors: true

- name: Claude Code - Install
  shell: curl -fsSL https://claude.ai/install.sh | bash
  args:
    creates: ~/.local/bin/claude
